<!--
FILE: views/itemsDetailPage.ejs

DESCRIPTION: Generates an item's detail page. Information includes title,
             seller, price, category and photo of item. The page also includes
             a message button for buyers to send a one-way message.

CREATED BY: Michael
-->
<!DOCTYPE html>
<html>

<head>
    <title>
        <%= title %>
    </title>
</head>

<body>
    <%- include('partials/navbar', {search: search}) %>

        <!-- Header for the homepage that contains the Site Description -->

        <div class="container-fluid" id="itemsDetailPage">
            <div class="row">
                <div class="col ms-5">
                    <div class="card ms-5" style="width: 30rem">
                        <img src="<%=Item[0].photopath%>" class="card-img-bottom" alt="...">
                    </div>
                </div>
                <div class="col">
                    <div class="clearfix">
                        <p style="font-size:40px"><strong>
                                <%=Item[0].title%>
                            </strong><br></p>
                        <p>$<%=Item[0].price%><br></p>
                        <p><strong>About This Item:</strong><br>
                            <%=Item[0].description%>
                        </p>
                        <!-- Begin HTML for Messages Modal -->
                        <button id="contactSellerBtn" class="btn btn-primary" data-bs-toggle="modal"
                            data-bs-target="#messageModal">
                            Message Seller
                        </button>
                        <%- include('partials/contactSellerModal') %>
                    </div>
                </div>
            </div>
        </div>
        <%- include('partials/footer') %>

            <script src="/javascripts/bootstrap.bundle.js"></script>
            <script src="/javascripts/search.js"></script>
            <script>
                // Opening the modal if contact seller button was clicked on the item's card on homepage or search results page.
                if(document.location.hash === '#modal'){
                    document.querySelector('#contactSellerBtn').click();
                    document.location.hash = '';
                };
            </script>
</body>